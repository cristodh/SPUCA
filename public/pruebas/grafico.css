:root{
    --bg: #0E1116;
    --card: #161B22;
    --ink: #E6EDF3;
    --muted: #9FB0C3;
    --grid: #273245;
    --accent1:#5b8cff;
    --accent2:#00d3a7;
    --accent3:#ff7a7a;
    --accent4:#f4c95d;
}
body{
    margin:0;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
    background: radial-gradient(1200px 600px at 10% -10%, #1A2232 0%, transparent 50%),
                radial-gradient(1200px 600px at 110% 10%, #12192A 0%, transparent 50%),
                var(--bg);
    color:var(--ink);
    min-height:100vh;
    display:grid;
    place-items:center;
    padding:24px;
}
.card{
    width:min(1100px, 95vw);
    background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
    backdrop-filter: blur(8px);
    border:1px solid rgba(255,255,255,.08);
    border-radius:20px;
    box-shadow: 0 20px 60px rgba(0,0,0,.4);
    padding:18px 18px 12px;
}
.header{
    display:flex;
    flex-wrap:wrap;
    align-items:center;
    gap:12px 16px;
    padding:6px 4px 14px;
    border-bottom:1px dashed rgba(255,255,255,.08);
    margin-bottom:10px;
}
.title{
    font-size: clamp(18px, 2.4vw, 28px);
    font-weight:700;
    letter-spacing:.2px;
}
.subtitle{
    color:var(--muted);
    font-size: clamp(12px, 1.6vw, 14px);
}
.controls{
    margin-left:auto;
    display:flex;
    gap:8px;
    flex-wrap:wrap;
}
button{
    appearance:none;
    background:transparent;
    color:var(--ink);
    border:1px solid rgba(255,255,255,.2);
    border-radius:999px;
    padding:8px 14px;
    cursor:pointer;
    transition:.2s ease;
    font-weight:600;
}
button:hover{ transform: translateY(-1px); border-color: rgba(255,255,255,.35); }
button.primary{
    background: linear-gradient(90deg, var(--accent1), var(--accent2));
    border:none; color:#0b0f15;
}
button.warn{
    background: linear-gradient(90deg, var(--accent3), var(--accent4));
    border:none; color:#0b0f15;
}
.canvas-wrap{
    position:relative;
    width:100%;
    aspect-ratio: 16/9;
}
canvas{
    width:100%;
    height:100%;
    display:block;
    border-radius:14px;
    background: var(--card);
}
.legend{
    display:flex; flex-wrap:wrap; gap:10px 16px;
    padding:10px 4px 2px;
    color:var(--muted);
    font-size:14px;
}
.badge{
    display:inline-flex; align-items:center; gap:8px;
    padding:6px 10px; border-radius:999px;
    background: rgba(255,255,255,.06);
    border:1px solid rgba(255,255,255,.1);
}
.dot{
    width:10px; height:10px; border-radius:50%;
    box-shadow: 0 0 0 2px rgba(255,255,255,.08) inset;
}